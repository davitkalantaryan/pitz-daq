<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>&quot;PITZ-DAQ-API&quot;: :&lt;em&gt;davit_dev&lt;/em&gt;.pitz_daq_docs_daqcollector daqcollector</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">&quot;PITZ-DAQ-API&quot;
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">:<em>davit_dev</em>.pitz_daq_docs_daqcollector daqcollector </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ol type="1">
<li>Should be understood the meaning of *.cond files The directory for these files is '/doocs/data/DAQdata/conditions'</li>
</ol>
<p>Following is the tasaks, that should be done!</p>
<ol type="1">
<li>Facility name for all DAQ collector servers will be following: PITZ.DAQ (instead of old DAQL)</li>
<li>There should be one location with the same name as a device name</li>
</ol>
<ol type="1">
<li>For daqinterface GUI, there should not be necessity for "//afs/ifh.de/group/pitz/doocs/data/DAQdata/bin/DAQinterface/config.h" config file. All information can be found using DOOCS interface</li>
<li>For daqinterface GUI all DOOCS actions (and networking based actions at all) should be removed from GUI thread.</li>
<li>Syncronizing checking procedure (fl: <a class="el" href="pitz__daq__collectorinfo_8cpp.html">pitz_daq_collectorinfo.cpp</a>, ln:~35, ln:~55) (CreateNew, DeleteInstance,~CollectorInfo)</li>
</ol>
<p>Following is the tasaks, that should be done to make interlock notifier system more relaible!</p>
<ol type="1">
<li>To discuss with Marek to have common header for data interface see: <a class="el" href="daq_8h.html">include/ilock4/driver/i4/hal/daq.h</a> . It is better to have daq_base.h, where common data types are defined.</li>
</ol>
<p>#To do list</p>
<ol type="1">
<li>for DAQ collector servers, if config file will be accidentially modified and the name of informative property changed, then should be implemented API to set it back to the default</li>
<li>Implement some delay during server startup (for being able to control the server from watchdog)</li>
<li>there should be global int property for all daq collectors to et and to unset this variable</li>
<li>For client applications also, this variable should be resolved and proper debugging based on the value of this implemented</li>
<li>start button coloring for DAQinterface should be changed</li>
<li>During DAQ collector startup AFS cleanup should be implemented, because sometime DAQ collector server can die unexpectively without cleaning up AFS and without writing necessary data to the DCache</li>
<li>To investigate and fix following problems a) Can't open destination file : "General problem: No route to host" b) System error: Input/output error Most probably these both errors come from one file access operation (and probably network file AFS or DCache)</li>
<li>There is a problem to collect data in the AFS, because of permission [pitzdaq5] /doocs/data/DAQdata/daqL/2017/02/pitzdiag.adc % touch test.txt touch: cannot touch &lsquo;test.txt&rsquo;: Permission denied [pitzdaq5] /doocs/data/DAQdata/daqL/2017/02/pitzdiag.adc %</li>
</ol>
<p>#Already done list</p>
<ol type="1">
<li>All servers, step by step should be migrated to the new DOOCS facility The name of this facility is PITZ.DAQ. In this facility only DAQ collector servers should exists. This will make possible for handler client side applications, to find all collector servers</li>
<li>Setting itself in the watchdog_server to online, should be removed</li>
<li>Added new button for setting in the watchdog online or ofline</li>
</ol>
<img src="https://davitkalantaryan.github.io/pitz-daq/docs/images/pitz_logo.png" alt="PITZ logo" class="inline"/>
<p>DAQ is abbreviation for Data AcQuisition . PITZ has acquisition system in order to collect different data for offline analysis , historizing or for preparing later on reports, etc.</p>
<p><br />
 PITZ DAQ consists from group of applications and utilites (MATLAB mex files, libraries, etc) . Each application or utilite orginize one part of the collection procedure, or used for finally getting and displaying data.</p>
<p><br />
 This is from Igor's thesis <br />
 It interferes with the PITZ Data AcQuisition system (DAQ) and provides a userfriendly interface with synchronized spectra information about IL detectors and RF directional couplers, located in the gun section, for a requested time period. The time period is usually selected as the period when an IL event occurred, but any other time range, in which an operator is interested, can be defined. LILI provides plots with the combined spectra in such a way that is easy to read and to compare their behavior. The LILI interface is able to show each event (which comes every 0.1 sec during the normal gun operation) as well as a combination of several events. The combined events option helps to see a sequence of pulses (presented by different colors) and in case of an IL event, to understand its origin if there were a few IL detectors triggered. <br />
</p>
<p><br />
</p>
<h2>Most used parts of the system are following</h2>
<h3>1. Data collector servers</h3>
<h3>2. Application to control the collectors</h3>
<h3>3. Data getter and handler applications and tools</h3>
<p>Some additional information can be obtained from the files from 'doc' directory <br />
</p>
<h2>Usefull links</h2>
<p><a href="https://davitkalantaryan.github.io/pitz-daq/docs/doxy/html/index.html">API</a></p>
<p><a href="https://davitkalantaryan.github.io/pitz-daq/index.html">web</a> <br />
 <a href="https://github.com/davitkalantaryan/pitz-daq">github</a> <br />
 <a href="https://github.com/davitkalantaryan/pitz-daq">DESY bitbucket</a> <br />
</p>
<h2>this is almost</h2>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
